---
import { Icon } from 'astro-icon/components'
import { NavigationLinks } from '../config'
import Search from '../components/search.astro'
import { Logo } from '../config'
---

<div x-data="{ isOpen: false }">
  <!-- Mobile menu button -->
  <div class="absolute inset-y-0 left-0 flex items-center lg:hidden z-40" x-show="!isOpen">
    <button
      type="button"
      @click="isOpen = true, document.body.classList.add('overflow-hidden')"
      class="absolute top-4 left-4 lg:hidden bg-[#D9A77D] p-2 rounded-md text-white"
    >
      <Icon
        class="block h-6 w-6"
        aria-hidden="true"
        name="heroicons:bars-3"
      />
    </button>
  </div>

  <!-- Sidebar -->
  <aside
    :class="{ 'block': isOpen, 'hidden': !isOpen }"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 transform -translate-x-full"
    x-transition:enter-end="opacity-100 transform translate-x-0"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100 transform translate-x-0"
    x-transition:leave-end="opacity-0 transform -translate-x-full"
    class="w-full lg:w-64 h-full bg-gradient-to-t from-[#D9A77D] to-[#FEF3E3] p-6 fixed inset-y-0 left-0 z-40 lg:flex flex-col items-center space-y-6"
  >
    <button
    type="button"
    @click="isOpen = false, document.body.classList.remove('overflow-hidden')"
    class="absolute top-4 left-4 lg:hidden bg-[#D9A77D] p-2 rounded-md text-white"
    >
      <Icon
      :class="{ 'block': isOpen, 'hidden': !isOpen }"
      class="hidden h-6 w-6"
      aria-hidden="true"
      name="heroicons:x-mark"
    />
    </button>
    <!-- Sidebar content here -->
       <!-- Logo -->
    <a href="/servicii-funerare-sascut/" class="flex items-center justify-center">
      <img class="max-w-[18rem]" src={Logo.src} alt="Logo" />
    </a>

  <!-- Navigation Links -->
  <nav class="flex flex-col w-full space-y-4 justify-center items-center">
    {
      NavigationLinks.map((item) => (
        <a
          href={import.meta.env.BASE_URL + item.href}
          class="text-[#5D3E23] font-medium text-xl whitespace-nowrap hover:text-black hover:underline transition"
          aria-current={item.href.length > 0 && Astro.url.toString().includes(item.href) ? 'page' : undefined}
        >
          {item.name}
        </a>
      ))
    }


  <div class="bg-[#F5E1D2] p-6 rounded-lg flex flex-col items-center text-[#5D3E23] w-full">
    <div class="flex items-center gap-2">
      <Icon name="heroicons:phone" class="h-6 w-6 text-[#A63E00]" />
      <p class="font-semibold text-md text-nowrap">+40 (0)723 321 499</p>
    </div>
    <p class="text-sm opacity-75 font-bold">Program Non Stop</p>
  </div>
  <div class="bg-[#F5E1D2] p-6 rounded-lg flex flex-col items-center text-[#5D3E23] w-full">
    <div class="flex items-center gap-2">
      <Icon name="heroicons:phone" class="h-6 w-6 text-[#A63E00]" />
      <p class="font-semibold text-md text-nowrap">+40 (0)334 131 451</p>
    </div>
    <p class="text-sm opacity-75 font-bold">Program Non Stop</p>
  </div>
  <div class="bg-[#F5E1D2] p-6 rounded-lg flex flex-col items-center text-[#5D3E23] w-full">
    <div class="flex items-center gap-2">
      <Icon name="heroicons:phone" class="h-6 w-6 text-[#A63E00]" />
      <p class="font-semibold text-md text-nowrap">+40 (0)775 307 326</p>
    </div>
    <p class="text-sm opacity-75 font-bold">Program Non Stop</p>
  </div>
  </nav>
  <Search />
  </aside>
</div>
